# Código Legado

# Introdução: Código Legado (5 minutos)

Código Legado: 

Sempre que falamos código legado, pensamos em algo ruim, algo mal feito, algo que foi feito a muito tempo e logo não tem mais utilidade. E grande parte das vezes estes pensamento podem não estar errados. Mas muitas das vezes um código legado é um código que foi construído a muito tempo atrás e esta funcionando até o momento.
Pensem como se fossem relíquias históricas, muito que que esta nos museus não nos é mais util no nosso tempo na história, mas normalmente respeitamos o que o objeto representou. O código legado não é apenas um conjunto de linhas, ele é a representação viva de decisões técnicas que solucionaram problemas reais. Ele existe porque foi funcional, porque atendeu aos requisitos e porque sustentou o negócio.

Vamos pensar em um exemplo, códigos bancários em mainframes não foram substituídos até hoje, por complexidade, custo, evolução tecnológica, mas principalmente porque funcionam e não trazem prejuízo. Códigos do sistema bancário sustentam operações críticas até hoje.

## Por Que o Código Legado Não É Ruim Por Essência (10 minutos)

### Resistência ao Tempo

O código legado muitas vezes passou por anos de uso sem falhas críticas. Ele está rodando, processando informações e gerando valor continuamente.
Reflexão: Se o código ainda está em produção, significa que ele passou pelo maior teste de todos — o teste do tempo. Ele foi capaz de se manter relevante apesar de tecnologias mais recentes.

### Decisões Contextuais

Cada linha de código tem um propósito. Muitas vezes, o que hoje parece uma má decisão era a melhor escolha com as ferramentas e conhecimento da época.
Exemplo: Algoritmos complexos ou linguagens que agora parecem antiquadas podem ter sido escolhidos por limitações de hardware, tempo ou recursos.

### Adaptabilidade e Flexibilidade

Código legado geralmente passou por diversas mudanças, adaptações e melhorias ao longo dos anos. Ele se ajustou a novos requisitos, evoluiu para suportar novos casos de uso.
Reflexão: O fato de ele ser “legado” não significa que não pode ser útil — ele ainda é a espinha dorsal de muitos sistemas.

## Valor do código legado

Como vimos até o momento, código legado não é necessariamente sinônimo de código ruim, logo sabemos que devemos preserva-los, adapta-los, e refatora-los com responsabilidade até um ponto que possamos substitui-lo.


## Dificuldades e Desafios do Código Legado (5 minutos)

### Complexidade Crescente

Ao longo dos anos, a adição de novos recursos ou correções pode gerar aumento na complexidade e dificuldade de manutenção. Isso acontece porque ele carrega uma evolução constante.

### Falta de Documentação

Muitas vezes o código legado não tem uma documentação clara. Os desenvolvedores originais já não estão na equipe, e os comentários e explicações podem ter se perdido.

### Refatoração com Segurança: Um Novo Capítulo na Vida do Código (10 minutos)

- O Que É Refatoração?

Refatorar é reestruturar o código existente sem alterar sua funcionalidade. É como restaurar uma obra antiga, tornando-a mais robusta e eficiente, sem mudar sua essência.

### Benefícios da Refatoração

Melhora a legibilidade, a manutenibilidade e a segurança.
Facilita a introdução de novas funcionalidades.
Reduz a chance de erros futuros ao resolver dívidas técnicas.
Exemplo: Refatorar código que usa funções repetitivas, substituindo por métodos mais enxutos ou utilizando novos paradigmas da linguagem.

### Refatoração com Segurança

Testes Automatizados: Antes de iniciar qualquer refatoração, certifique-se de que você tenha uma boa cobertura de testes automatizados. Isso garante que o comportamento do sistema não seja alterado durante o processo.
Backup e Controle de Versão: Use sistemas de controle de versão para garantir que qualquer modificação possa ser revertida.
Refatoração Incremental: Comece pequeno. Não tente mudar tudo de uma vez. Refatore pequenas partes do código e valide cada etapa com testes.
Exemplo: Refatorar métodos grandes e complexos dividindo-os em funções menores e mais compreensíveis, aplicando testes unitários para garantir a mesma funcionalidade.

## Conclusão e Reflexão Final (5 minutos)
Código Legado Como Patrimônio

Mensagem Final: O objetivo não é destruir o legado, mas encontrar maneiras seguras e eficazes de modernizá-lo, preservando seu valor.
A Refatoração é o Próximo Capítulo

Refatorar é respeitar o código legado, garantindo que ele continue relevante para o futuro. É uma forma de preservá-lo enquanto o adapta às necessidades atuais.
Discussão

## --> Abra o espaço para perguntas e para que compartilhem suas próprias experiências com código legado e refatoração.

Quais são boas definições para código legado?

Uma das que eu mais gosto:
- O código que você escreveu ontem, hoje é código legado.